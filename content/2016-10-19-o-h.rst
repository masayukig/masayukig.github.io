:title: OpenStack-Health updates
:slug: openstack-health-updates
:tags: work, oss, openstack, openstack-health
:category: Work
:date: 2016-10-19
:Status: published

本日、`OpenStack-Health`_ のパッチをいくつかApproveしました。

* `Add base utilities for canvas charts <https://review.openstack.org/#/c/363934/>`_
* `Add canvas line chart <https://review.openstack.org/#/c/380884/>`_
* `Add canvas scatter chart <https://review.openstack.org/#/c/380885/>`_

これは、グラフ描画用のJavascriptライブラリ（ユーティリティ）です。今までは、`nvd3`_ という `d3js`_ を
使いやすくしたJavascriptライブラリを使用していましたが、パフォーマンスと細かなバグに悩まされることも多く、
独自実装に切り替えようとしています。(`d3js`_ は引き続き使っています。)

.. _OpenStack-Health: http://git.openstack.org/cgit/openstack/openstack-health
.. _nvd3: http://nvd3.org/
.. _d3js: https://d3js.org/

まだ、全てのグラフを置き換えられたわけではありませんし、荒削りな部分が多々ありますが、良い方向に進んでいる
と思います。

まぁ、最悪、クリティカルなバグがあったとしても、パッチをrevertすれば良いので、
恐る恐る進む必要もなく、むしろ、現時点では、リスクを恐れて前に進まないほうが問題と判断しました。

現時点での課題は...

* unit testが無い
* グラフが二重描画されることがある -> ブラウザリサイズ/リロードでなおる

今後も、品質改善に向けて進んでいきます :)

以下が OpenStack-Health の画面です。って、http://status.openstack.org/openstack-health/ にアクセスすれば、
誰でも見られます :)

----------------------------------------------------------------

.. image:: {filename}/images/openstack-health-2016-10-19.png
  :alt: OpenStack-Health

Happy Hacking!
