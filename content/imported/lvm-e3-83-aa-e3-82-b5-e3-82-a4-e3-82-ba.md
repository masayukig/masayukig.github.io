Title: LVMリサイズ
Date: 2008-12-13 06:49
Author: masayukig
Tags: ext3, LVM, 未分類
Status: published

LVMで領域のリサイズをしようと思ったら、ちょっとハマったので、メモ。  
通常、ext3（などのリサイズできるファイルシステムを使っているなら、  
`# lvresize -L +500M /dev/vg01/lv01# ext2online /dev/vg01/lv01`  
とすれば、領域を拡張できるはずなのだが、今回、何度上記を実行しても、  
`# ext2online /dev/vg01/lv01ext2online v1.1.19 - 2001/03/18 for EXT2FS 0.5bfound 0 not 20 at 0[19]`

ext2online: unable to resize /dev/mapper/vg01-lv01  
  
などと出力されて、拡張できなかった。

以下の手順で取りあえず拡張できたっぽい。

`# umount /lv01-mountpoint# e2fsck -f /dev/vg01/lv01 && resize2fs /dev/vg01/lv01# mount /dev/vg01/lv01 /lv01-mountpoint`

dfコマンド上は、拡張された様に見える。  
＃実運用でどうなるかはシラネw
