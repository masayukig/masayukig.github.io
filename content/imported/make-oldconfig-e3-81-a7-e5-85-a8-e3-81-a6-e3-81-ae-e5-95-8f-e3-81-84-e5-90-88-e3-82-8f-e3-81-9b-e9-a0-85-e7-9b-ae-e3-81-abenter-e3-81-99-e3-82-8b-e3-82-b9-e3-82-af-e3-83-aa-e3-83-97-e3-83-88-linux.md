Title: make oldconfigで全ての問い合わせ項目にEnterするスクリプト #Linux
Date: 2010-06-05 14:25
Author: masayukig
Tags: 開発, kernel, OS, tips
Status: published

Linux
kernelのmakeのターゲットでありそうな気もするんですが、見つからなかったので。

\$ cat make\_oldconfig\_auto.sh

``` {.ruby}
#!/usr/bin/env expect

set timeout 10
spawn make oldconfig
while {1} {
        expect {
                "] (NEW)" { send "\n" }
                "# configuration written to .config" {break}
        }
}

interact
```

[]{#more}  
見てわかるとおり、expectを使って、"\]
(NEW)"というのが出てきたら、Enter入力。  
"\# configuration written to .config"が出てきたらおしまい。

というスクリプトです。
